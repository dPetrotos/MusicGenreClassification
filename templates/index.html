{% extends 'base.html' %}

{% block body %}
    <div class="row justify-content-center">
        <div class="col-md-6 align-self-center">
           <form id="classification-form" action="/classification" method="POST" enctype="multipart/form-data" onsubmit="return validateForm()">
                <div class="mb-3">
                    <label for="song" class="form-label">Upload a song</label>
                    <input type="file" class="form-control-file" name="song" accept="audio/*">
                </div>
                <div class="mb-3">
                    <label for="link" class="form-label">Or paste a Youtube link</label>
                    <input type="url" class="form-control" name="link">
                </div>
               <div class="mb-3">
                   <select class="form-select" aria-label="Default select example" name="model_choice" required>
                       <option value="mel" selected>CNN-Mel</option>
                       <option value="mfcc">CNN-MFCC</option>
                   </select>
               </div>
               <div class="mb-3">
                   <p id="error-message" style="color: red;"></p>
               </div>

{#                <input type="submit" value="Classify">#}
                <button type="submit" class="btn btn-primary">Classify</button>
            </form>
        </div>
    </div>

    <div id="prediction" class="text-center" style="display: none;">
            <h1 style="margin-bottom:25px">Predicted Genre : <span id="genre"></span></h1>
            <button id="new-prediction-button" class="btn btn-primary">New Prediction</button>
    </div>

    <div id="loading" class="text-center" style="display: none;">
        <i class="fa fa-spinner fa-spin" style="font-size:40px; margin-top:50px"></i> Loading...
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>

{% endblock %}